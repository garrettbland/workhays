<div x-data="menu()"
    class="w-full fixed top-0 left-0 z-40"
    style="background-image: linear-gradient( 90deg, rgba(107,52,255,1) 16.5%, rgba(51,159,247,1) 81% );"
>
    <div class="max-w-4xl mx-auto flex justify-between items-center p-4 lg:px-0">
        <!-- logo -->
        <a href="/" class="text-lg text-white flex items-center">
            <img class="h-auto w-6 text-white mr-3" src="/images/work.svg" />
            <span class="font-light">Work</span
            ><span class="font-bold">Hays</span>
        </a>

        <!-- mobile menu button-->
        <div class="block lg:hidden text-white">
            <button
                x-on:click="open('showMobileMenu')"
                class="flex items-center focus:outline-none"
            >
                <span class="mr-2">
                    Menu
                </span>
                <i data-feather="menu" class=""></i>
            </button>
        </div>

        <!-- mobile menu -->
        <%- include('./mobile_navbar.ejs') %>

        <!-- desktop menu -->
        <div class="hidden lg:block">
            <ul class="flex flex-row items-center">
                <li>
                    <a
                        href="/"
                        class="py-2 px-3 text-sm font-medium hover:bg-white hover:shadow hover:text-blue-500 transition ease-in-out duration-75 mr-2 rounded <%= activeUrl === '' ? 'bg-white text-blue-500 shadow' : activeUrl === 'jobs' ? 'bg-white text-blue-500 shadow' : 'text-white' %>"
                    >
                        Jobs
                    </a>
                </li>
                <li>
                    <a
                        href="/employers"
                        class="py-2 px-3 text-sm font-medium hover:bg-white hover:shadow hover:text-blue-500 transition ease-in-out duration-75 mr-2 rounded <%= activeUrl === 'employers' ? 'bg-white text-blue-500 shadow' : 'text-white' %>"
                    >
                        Employers
                    </a>
                </li>
                <li>
                    <a
                        href="/about"
                        class="py-2 px-3 text-sm font-medium hover:bg-white hover:shadow hover:text-blue-500 transition ease-in-out duration-75 mr-2 rounded <%= activeUrl === 'about' ? 'bg-white text-blue-500 shadow' : 'text-white' %>"
                    >
                        About
                    </a>
                </li>
                <li>
                    <a
                        href="/contact"
                        class="py-2 px-3 text-sm font-medium hover:bg-white hover:shadow hover:text-blue-500 transition ease-in-out duration-75 mr-2 rounded <%= activeUrl === 'contact' ? 'bg-white text-blue-500 shadow' : 'text-white' %>"
                    >
                        Contact
                    </a>
                </li>
                <% if (user) { %>
                <li>
                    <a
                        href="/admin/dashboard"
                        class="py-2 px-3 text-sm font-medium hover:bg-white hover:shadow hover:text-blue-500 transition ease-in-out duration-75 mr-2 rounded <%= activeUrl === 'admin' ? 'bg-white text-blue-500 shadow' : 'text-white' %>"
                    >
                        Account
                    </a>
                </li>
                <li>
                    <a
                        href="/logout"
                        class="text-white py-2 px-3 text-sm font-medium hover:bg-white hover:shadow hover:text-blue-500 transition ease-in-out duration-75 mr-2 rounded"
                    >
                        Logout
                    </a>
                </li>
                <% } else { %>
                <li>
                    <a
                        href="/signup"
                        class="py-2 px-3 text-sm font-medium hover:bg-white hover:shadow hover:text-blue-500 transition ease-in-out duration-75 mr-2 rounded <%= activeUrl === 'signup' ? 'bg-white text-blue-500 shadow' : 'text-white' %>"
                    >
                        Sign Up
                    </a>
                </li>
                <li>
                    <a
                        href="/signin"
                        class="py-2 px-3 text-sm font-medium hover:bg-white hover:shadow hover:text-blue-500 transition ease-in-out duration-75 rounded <%= activeUrl === 'signin' ? 'bg-white text-blue-500 shadow' : 'text-white' %>"
                    >
                        Sign In
                    </a>
                </li>
                <% } %>
            </ul>
        </div>
    </div>
</div>

<script>
    function menu () {
        return {
            showMobileMenu: false,
            showAccountDropdown: false,
            open: function (key) {
                this[key] = true
            },
            close: function (key) {
                this[key] = false
            },
        }
    }
</script>
